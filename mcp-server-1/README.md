# MCP Server 1: GitHub Repository Health Monitor

**MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–¥–æ—Ä–æ–≤—å—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ GitHub**

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

MCP Server 1 –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –º–µ—Ç—Ä–∏–∫ –∑–¥–æ—Ä–æ–≤—å—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ GitHub. –°–µ—Ä–≤–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å GitHub REST API v3 –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤.

## üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### 1. `get_repository_health`

–ü–æ–ª—É—á–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `owner` (str, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - –í–ª–∞–¥–µ–ª–µ—Ü —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (username –∏–ª–∏ organization name)
- `repo` (str, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö issues –∏ pull requests
- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–º–∏—Ç–∞, –≤–æ–∑—Ä–∞—Å—Ç –∫–æ–º–º–∏—Ç–∞)
- –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å (–∑–≤–µ–∑–¥—ã, —Ñ–æ—Ä–∫–∏, –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏)
- –°—Ç–∞—Ç—É—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω, –æ—Ç–∫–ª—é—á–µ–Ω)
- –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ push

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```python
result = await get_repository_health(
    owner="microsoft",
    repo="vscode",
    ctx=context
)
```

### 2. `get_repository_issues_summary`

–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç issues —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤–æ–¥–∫—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `owner` (str, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - –í–ª–∞–¥–µ–ª–µ—Ü —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- `repo` (str, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- `state` (str, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π) - –°—Ç–∞—Ç—É—Å issues: 'open', 'closed', –∏–ª–∏ 'all' (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 'open')
- `labels` (List[str], –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π) - –°–ø–∏—Å–æ–∫ labels –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ issues (–æ—Ç–∫—Ä—ã—Ç—ã—Ö –∏ –∑–∞–∫—Ä—ã—Ç—ã—Ö)
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ issues –ø–æ labels
- –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö issues —Å –¥–µ—Ç–∞–ª—è–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```python
result = await get_repository_issues_summary(
    owner="pydantic",
    repo="pydantic",
    state="open",
    labels=["bug", "enhancement"],
    ctx=context
)
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -e .

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –¥–æ–±–∞–≤—å—Ç–µ GITHUB_TOKEN

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python server.py
```

### Docker

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t mcp-server-1 .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 8000:8000 --env-file .env mcp-server-1
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `GITHUB_TOKEN` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - GitHub Personal Access Token
- `PORT` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π) - –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8000)
- `HOST` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π) - –•–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.0.0.0)

### –ü–æ–ª—É—á–µ–Ω–∏–µ GitHub Token

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://github.com/settings/tokens
2. –ù–∞–∂–º–∏—Ç–µ "Generate new token (classic)"
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: `public_repo`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `.env`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ dev –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -e ".[dev]"

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest tests/ -v

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest tests/ --cov=tools --cov-report=html
```

## üìä –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- **Retry –º–µ—Ö–∞–Ω–∏–∑–º:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö (429, 500, 502, 503, 504)
- **Rate Limiting:** –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ GitHub API (1 –∑–∞–ø—Ä–æ—Å/—Å–µ–∫)
- **OpenTelemetry —Ç—Ä–µ–π—Å–∏–Ω–≥:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- **–ü—Ä–æ–≥—Ä–µ—Å—Å-–æ—Ç—á–µ—Ç—ã:** –ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —á–µ—Ä–µ–∑ McpError

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
mcp-server-1/
‚îú‚îÄ‚îÄ server.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ mcp_instance.py        # –ï–¥–∏–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä FastMCP
‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îú‚îÄ‚îÄ github_health.py   # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: get_repository_health
‚îÇ   ‚îú‚îÄ‚îÄ issues_summary.py  # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: get_repository_issues_summary
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py         # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ utils.py           # –£—Ç–∏–ª–∏—Ç—ã (retry, rate limiting)
‚îú‚îÄ‚îÄ tests/                 # Unit —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ pyproject.toml         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `mcp-server-catalog.yaml` - –ö–∞—Ç–∞–ª–æ–≥ MCP —Å–µ—Ä–≤–µ—Ä–∞
- `mcp_tools.json` - JSON –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- `env_options.json` - –û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–°–º. –≥–ª–∞–≤–Ω—ã–π [README.md](../README.md) –¥–ª—è –æ–±—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–µ–∫—Ç–µ.
